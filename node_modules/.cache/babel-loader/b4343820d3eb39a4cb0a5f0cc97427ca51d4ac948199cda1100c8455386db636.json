{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\todo-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport supabase from './supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState('');\n\n  // ËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  const fetchTodos = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('todos').select('*').order('id', {\n      ascending: false\n    });\n    if (error) {\n      console.error('Error fetching todos:', error);\n    } else {\n      setTodos(data);\n    }\n  };\n\n  // Êñ∞Â¢ûÂæÖËæ¶‰∫ãÈ†Ö\n  const addTodo = async () => {\n    if (!input.trim()) return; // Ê™¢Êü•ÊòØÂê¶ÊúâËº∏ÂÖ•\n\n    const {\n      data,\n      error\n    } = await supabase.from('todos').insert([{\n      text: input,\n      isComplete: false\n    }]).single();\n    if (error) {\n      console.error('Error adding todo:', error);\n    } else {\n      // ‰ΩøÁî® prevTodos ‰øùË≠âÊõ¥Êñ∞ÊòØÂü∫ÊñºÊúÄÊñ∞ÁöÑ state\n      setTodos(prevTodos => [data, ...prevTodos]);\n      setInput(''); // Ê∏ÖÁ©∫Ëº∏ÂÖ•Ê°Ü\n    }\n  };\n\n  // Êõ¥Êñ∞ÂæÖËæ¶‰∫ãÈ†ÖÁöÑÂÆåÊàêÁãÄÊÖã\n  const toggleTodo = async (id, isComplete) => {\n    const {\n      data,\n      error\n    } = await supabase.from('todos').update({\n      isComplete: !isComplete\n    }).eq('id', id).single();\n    if (error) {\n      console.error('Error updating todo:', error);\n    } else {\n      // Êõ¥Êñ∞‰ªªÂãôÁãÄÊÖã\n      setTodos(prevTodos => prevTodos.map(todo => todo.id === id ? data : todo));\n    }\n  };\n\n  // Âà™Èô§ÂæÖËæ¶‰∫ãÈ†Ö\n  const deleteTodo = async id => {\n    const {\n      error\n    } = await supabase.from('todos').delete().eq('id', id);\n    if (error) {\n      console.error('Error deleting todo:', error);\n    } else {\n      // ÁßªÈô§Â∑≤Âà™Èô§ÁöÑ‰ªªÂãô\n      setTodos(prevTodos => prevTodos.filter(todo => todo.id !== id));\n    }\n  };\n\n  // ‰ΩøÁî® useEffect ÂàùÂßãÂåñÊôÇËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 500,\n      margin: '50px auto',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83D\\uDCDD \\u6211\\u7684\\u5F85\\u8FA6\\u6E05\\u55AE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"\\u8F38\\u5165\\u4EFB\\u52D9...\",\n        style: {\n          flex: 1,\n          padding: '8px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addTodo,\n        style: {\n          padding: '8px 12px',\n          marginLeft: '8px'\n        },\n        children: \"\\u65B0\\u589E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none',\n        padding: 0\n      },\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => toggleTodo(todo.id, todo.isComplete),\n        style: {\n          padding: '8px',\n          marginBottom: '4px',\n          cursor: 'pointer',\n          textDecoration: todo.isComplete ? 'line-through' : 'none',\n          backgroundColor: '#f0f0f0',\n          borderRadius: '4px'\n        },\n        children: [todo.text, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation(); // Èò≤Ê≠¢Ëß∏Áôº toggleTodo\n            deleteTodo(todo.id);\n          },\n          style: {\n            marginLeft: '10px',\n            padding: '5px 8px',\n            backgroundColor: '#ff4747',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: \"\\u522A\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, todo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SDobY1vKIpQLgk4wriOc+3n27bo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","supabase","jsxDEV","_jsxDEV","App","_s","todos","setTodos","input","setInput","fetchTodos","data","error","from","select","order","ascending","console","addTodo","trim","insert","text","isComplete","single","prevTodos","toggleTodo","id","update","eq","map","todo","deleteTodo","delete","filter","style","maxWidth","margin","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","display","marginBottom","type","value","onChange","e","target","placeholder","flex","padding","onClick","marginLeft","listStyle","cursor","textDecoration","backgroundColor","borderRadius","stopPropagation","color","border","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/todo-app/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport supabase from './supabaseClient';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState('');\n\n  // ËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from('todos')\n      .select('*')\n      .order('id', { ascending: false });\n\n    if (error) {\n      console.error('Error fetching todos:', error);\n    } else {\n      setTodos(data);\n    }\n  };\n\n  // Êñ∞Â¢ûÂæÖËæ¶‰∫ãÈ†Ö\n  const addTodo = async () => {\n    if (!input.trim()) return;  // Ê™¢Êü•ÊòØÂê¶ÊúâËº∏ÂÖ•\n\n    const { data, error } = await supabase\n      .from('todos')\n      .insert([{ text: input, isComplete: false }])\n      .single();\n\n    if (error) {\n      console.error('Error adding todo:', error);\n    } else {\n      // ‰ΩøÁî® prevTodos ‰øùË≠âÊõ¥Êñ∞ÊòØÂü∫ÊñºÊúÄÊñ∞ÁöÑ state\n      setTodos(prevTodos => [data, ...prevTodos]);\n      setInput(''); // Ê∏ÖÁ©∫Ëº∏ÂÖ•Ê°Ü\n    }\n  };\n\n  // Êõ¥Êñ∞ÂæÖËæ¶‰∫ãÈ†ÖÁöÑÂÆåÊàêÁãÄÊÖã\n  const toggleTodo = async (id, isComplete) => {\n    const { data, error } = await supabase\n      .from('todos')\n      .update({ isComplete: !isComplete })\n      .eq('id', id)\n      .single();\n\n    if (error) {\n      console.error('Error updating todo:', error);\n    } else {\n      // Êõ¥Êñ∞‰ªªÂãôÁãÄÊÖã\n      setTodos(prevTodos =>\n        prevTodos.map(todo => (todo.id === id ? data : todo))\n      );\n    }\n  };\n\n  // Âà™Èô§ÂæÖËæ¶‰∫ãÈ†Ö\n  const deleteTodo = async (id) => {\n    const { error } = await supabase\n      .from('todos')\n      .delete()\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error deleting todo:', error);\n    } else {\n      // ÁßªÈô§Â∑≤Âà™Èô§ÁöÑ‰ªªÂãô\n      setTodos(prevTodos => prevTodos.filter(todo => todo.id !== id));\n    }\n  };\n\n  // ‰ΩøÁî® useEffect ÂàùÂßãÂåñÊôÇËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  return (\n    <div style={{ maxWidth: 500, margin: '50px auto', fontFamily: 'sans-serif' }}>\n      <h1>üìù ÊàëÁöÑÂæÖËæ¶Ê∏ÖÂñÆ</h1>\n\n      <div style={{ display: 'flex', marginBottom: '1rem' }}>\n        <input\n          type=\"text\"\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"Ëº∏ÂÖ•‰ªªÂãô...\"\n          style={{ flex: 1, padding: '8px' }}\n        />\n        <button\n          onClick={addTodo}\n          style={{ padding: '8px 12px', marginLeft: '8px' }}\n        >\n          Êñ∞Â¢û\n        </button>\n      </div>\n\n      <ul style={{ listStyle: 'none', padding: 0 }}>\n        {todos.map(todo => (\n          <li\n            key={todo.id}\n            onClick={() => toggleTodo(todo.id, todo.isComplete)}\n            style={{\n              padding: '8px',\n              marginBottom: '4px',\n              cursor: 'pointer',\n              textDecoration: todo.isComplete ? 'line-through' : 'none',\n              backgroundColor: '#f0f0f0',\n              borderRadius: '4px',\n            }}\n          >\n            {todo.text}\n            <button\n              onClick={(e) => {\n                e.stopPropagation(); // Èò≤Ê≠¢Ëß∏Áôº toggleTodo\n                deleteTodo(todo.id);\n              }}\n              style={{\n                marginLeft: '10px',\n                padding: '5px 8px',\n                backgroundColor: '#ff4747',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n              }}\n            >\n              Âà™Èô§\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}