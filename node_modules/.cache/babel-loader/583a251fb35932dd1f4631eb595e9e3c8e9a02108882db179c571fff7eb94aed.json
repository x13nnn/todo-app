{"ast":null,"code":"// src/App.js\nimport React,{useEffect,useState}from'react';import{supabase}from'./supabaseClient';// 命名導入\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todos,setTodos]=useState([]);const[newTodo,setNewTodo]=useState('');useEffect(()=>{fetchTodos();},[]);// 取得待辦事項\nconst fetchTodos=async()=>{const{data,error}=await supabase.from('todos')// 替換為你的表名\n.select('*');if(error){console.error('Error fetching todos:',error);}else{setTodos(data);}};// 新增待辦事項\nconst addTodo=async()=>{if(!newTodo)return;const{data,error}=await supabase.from('todos')// 替換為你的表名\n.insert([{task:newTodo,is_completed:false}]);if(error){console.error('Error adding todo:',error);}else{setTodos([...todos,...data]);setNewTodo('');}};// 刪除待辦事項\nconst deleteTodo=async id=>{const{error}=await supabase.from('todos')// 替換為你的表名\n.delete().match({id});if(error){console.error('Error deleting todo:',error);}else{setTodos(todos.filter(todo=>todo.id!==id));}};// 更新待辦事項完成狀態\nconst toggleTodo=async(id,is_completed)=>{const{error}=await supabase.from('todos')// 替換為你的表名\n.update({is_completed:!is_completed}).match({id});if(error){console.error('Error updating todo:',error);}else{setTodos(todos.map(todo=>todo.id===id?{...todo,is_completed:!is_completed}:todo));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todo App\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTodo,onChange:e=>setNewTodo(e.target.value),placeholder:\"Enter new task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,children:\"Add Todo\"}),/*#__PURE__*/_jsx(\"ul\",{children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{style:{textDecoration:todo.is_completed?'line-through':'none'},children:[todo.task,/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleTodo(todo.id,todo.is_completed),children:todo.is_completed?'Undo':'Complete'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTodo(todo.id),children:\"Delete\"})]},todo.id))})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","supabase","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","newTodo","setNewTodo","fetchTodos","data","error","from","select","console","addTodo","insert","task","is_completed","deleteTodo","id","delete","match","filter","todo","toggleTodo","update","map","className","children","type","value","onChange","e","target","placeholder","onClick","style","textDecoration"],"sources":["C:/Users/ASUS/Desktop/todo-app/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect, useState } from 'react';\nimport { supabase } from './supabaseClient'; // 命名導入\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [newTodo, setNewTodo] = useState('');\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  // 取得待辦事項\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from('todos')  // 替換為你的表名\n      .select('*');\n\n    if (error) {\n      console.error('Error fetching todos:', error);\n    } else {\n      setTodos(data);\n    }\n  };\n\n  // 新增待辦事項\n  const addTodo = async () => {\n    if (!newTodo) return;\n\n    const { data, error } = await supabase\n      .from('todos')  // 替換為你的表名\n      .insert([{ task: newTodo, is_completed: false }]);\n\n    if (error) {\n      console.error('Error adding todo:', error);\n    } else {\n      setTodos([...todos, ...data]);\n      setNewTodo('');\n    }\n  };\n\n  // 刪除待辦事項\n  const deleteTodo = async (id) => {\n    const { error } = await supabase\n      .from('todos')  // 替換為你的表名\n      .delete()\n      .match({ id });\n\n    if (error) {\n      console.error('Error deleting todo:', error);\n    } else {\n      setTodos(todos.filter(todo => todo.id !== id));\n    }\n  };\n\n  // 更新待辦事項完成狀態\n  const toggleTodo = async (id, is_completed) => {\n    const { error } = await supabase\n      .from('todos')  // 替換為你的表名\n      .update({ is_completed: !is_completed })\n      .match({ id });\n\n    if (error) {\n      console.error('Error updating todo:', error);\n    } else {\n      setTodos(todos.map(todo =>\n        todo.id === id ? { ...todo, is_completed: !is_completed } : todo\n      ));\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Todo App</h1>\n      <input\n        type=\"text\"\n        value={newTodo}\n        onChange={(e) => setNewTodo(e.target.value)}\n        placeholder=\"Enter new task\"\n      />\n      <button onClick={addTodo}>Add Todo</button>\n      \n      <ul>\n        {todos.map(todo => (\n          <li key={todo.id} style={{ textDecoration: todo.is_completed ? 'line-through' : 'none' }}>\n            {todo.task}\n            <button onClick={() => toggleTodo(todo.id, todo.is_completed)}>\n              {todo.is_completed ? 'Undo' : 'Complete'}\n            </button>\n            <button onClick={() => deleteTodo(todo.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}