{"ast":null,"code":"// src/App.js\nimport{useState,useEffect}from'react';import{supabase}from'./supabaseClient';// Ê≥®ÊÑèÈÄôË£°ÊîπÊàêÂëΩÂêçÂ∞éÂÖ•\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todos,setTodos]=useState([]);const[input,setInput]=useState('');// ËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\nconst fetchTodos=async()=>{const{data,error}=await supabase.from('todos').select('*').order('id',{ascending:false});if(error){console.error('Error fetching todos:',error);}else{setTodos(data);}};// Êñ∞Â¢ûÂæÖËæ¶‰∫ãÈ†Ö\nconst addTodo=async()=>{if(!input.trim())return;const{data,error}=await supabase.from('todos').insert([{text:input,isComplete:false}]).single();if(error){console.error('Error adding todo:',error);}else{setTodos([data,...todos]);setInput('');}};// Êõ¥Êñ∞ÂæÖËæ¶‰∫ãÈ†ÖÁöÑÂÆåÊàêÁãÄÊÖã\nconst toggleTodo=async(id,isComplete)=>{const{data,error}=await supabase.from('todos').update({isComplete:!isComplete}).eq('id',id).single();if(error){console.error('Error updating todo:',error);}else{setTodos(todos.map(todo=>todo.id===id?data:todo));}};// Âà™Èô§ÂæÖËæ¶‰∫ãÈ†Ö\nconst deleteTodo=async id=>{const{error}=await supabase.from('todos').delete().eq('id',id);if(error){console.error('Error deleting todo:',error);}else{setTodos(todos.filter(todo=>todo.id!==id));}};// ‰ΩøÁî® useEffect ÂàùÂßãÂåñÊôÇËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\nuseEffect(()=>{fetchTodos();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:500,margin:'50px auto',fontFamily:'sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCDD \\u6211\\u7684\\u5F85\\u8FA6\\u6E05\\u55AE\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"\\u8F38\\u5165\\u4EFB\\u52D9...\",style:{flex:1,padding:'8px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,style:{padding:'8px 12px',marginLeft:'8px'},children:\"\\u65B0\\u589E\"})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>toggleTodo(todo.id,todo.isComplete),style:{padding:'8px',marginBottom:'4px',cursor:'pointer',textDecoration:todo.isComplete?'line-through':'none',backgroundColor:'#f0f0f0',borderRadius:'4px'},children:[todo.text,/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteTodo(todo.id);},style:{marginLeft:'10px',padding:'5px 8px',backgroundColor:'#ff4747',color:'white',border:'none',borderRadius:'4px'},children:\"\\u522A\\u9664\"})]},todo.id))})]});}export default App;","map":{"version":3,"names":["useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","input","setInput","fetchTodos","data","error","from","select","order","ascending","console","addTodo","trim","insert","text","isComplete","single","toggleTodo","id","update","eq","map","todo","deleteTodo","delete","filter","style","maxWidth","margin","fontFamily","children","display","marginBottom","type","value","onChange","e","target","placeholder","flex","padding","onClick","marginLeft","listStyle","cursor","textDecoration","backgroundColor","borderRadius","stopPropagation","color","border"],"sources":["C:/Users/ASUS/Desktop/todo-app/src/App.js"],"sourcesContent":["// src/App.js\nimport { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';  // Ê≥®ÊÑèÈÄôË£°ÊîπÊàêÂëΩÂêçÂ∞éÂÖ•\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState('');\n\n  // ËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from('todos')\n      .select('*')\n      .order('id', { ascending: false });\n\n    if (error) {\n      console.error('Error fetching todos:', error);\n    } else {\n      setTodos(data);\n    }\n  };\n\n  // Êñ∞Â¢ûÂæÖËæ¶‰∫ãÈ†Ö\n  const addTodo = async () => {\n    if (!input.trim()) return;\n\n    const { data, error } = await supabase\n      .from('todos')\n      .insert([{ text: input, isComplete: false }])\n      .single();\n\n    if (error) {\n      console.error('Error adding todo:', error);\n    } else {\n      setTodos([data, ...todos]);\n      setInput('');\n    }\n  };\n\n  // Êõ¥Êñ∞ÂæÖËæ¶‰∫ãÈ†ÖÁöÑÂÆåÊàêÁãÄÊÖã\n  const toggleTodo = async (id, isComplete) => {\n    const { data, error } = await supabase\n      .from('todos')\n      .update({ isComplete: !isComplete })\n      .eq('id', id)\n      .single();\n\n    if (error) {\n      console.error('Error updating todo:', error);\n    } else {\n      setTodos(todos.map(todo => (todo.id === id ? data : todo)));\n    }\n  };\n\n  // Âà™Èô§ÂæÖËæ¶‰∫ãÈ†Ö\n  const deleteTodo = async (id) => {\n    const { error } = await supabase\n      .from('todos')\n      .delete()\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error deleting todo:', error);\n    } else {\n      setTodos(todos.filter(todo => todo.id !== id));\n    }\n  };\n\n  // ‰ΩøÁî® useEffect ÂàùÂßãÂåñÊôÇËÆÄÂèñÂæÖËæ¶‰∫ãÈ†Ö\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  return (\n    <div style={{ maxWidth: 500, margin: '50px auto', fontFamily: 'sans-serif' }}>\n      <h1>üìù ÊàëÁöÑÂæÖËæ¶Ê∏ÖÂñÆ</h1>\n\n      <div style={{ display: 'flex', marginBottom: '1rem' }}>\n        <input\n          type=\"text\"\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"Ëº∏ÂÖ•‰ªªÂãô...\"\n          style={{ flex: 1, padding: '8px' }}\n        />\n        <button onClick={addTodo} style={{ padding: '8px 12px', marginLeft: '8px' }}>\n          Êñ∞Â¢û\n        </button>\n      </div>\n\n      <ul style={{ listStyle: 'none', padding: 0 }}>\n        {todos.map(todo => (\n          <li\n            key={todo.id}\n            onClick={() => toggleTodo(todo.id, todo.isComplete)}\n            style={{\n              padding: '8px',\n              marginBottom: '4px',\n              cursor: 'pointer',\n              textDecoration: todo.isComplete ? 'line-through' : 'none',\n              backgroundColor: '#f0f0f0',\n              borderRadius: '4px',\n            }}\n          >\n            {todo.text}\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                deleteTodo(todo.id);\n              }}\n              style={{\n                marginLeft: '10px',\n                padding: '5px 8px',\n                backgroundColor: '#ff4747',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n              }}\n            >\n              Âà™Èô§\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}