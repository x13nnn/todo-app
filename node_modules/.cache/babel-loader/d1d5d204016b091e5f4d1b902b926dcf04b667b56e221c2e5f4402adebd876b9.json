{"ast":null,"code":"// src/App.js\nimport React,{useState,useEffect}from'react';import{supabase}from'./supabaseClient';// 使用命名導入\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todos,setTodos]=useState([]);// 待辦事項清單\nconst[newTodo,setNewTodo]=useState('');// 新待辦事項的內容\nconst[loading,setLoading]=useState(true);// 是否在加載中\n// 取得所有待辦事項\nconst fetchTodos=async()=>{const{data,error}=await supabase.from('todos').select('*');if(error){console.error('Error fetching todos:',error);}else{setTodos(data);}setLoading(false);};// 新增待辦事項\nconst addTodo=async()=>{if(!newTodo)return;const{data,error}=await supabase.from('todos').insert([{task:newTodo,is_completed:false}]);if(error){console.error('Error adding todo:',error);}else{setTodos([...todos,...data]);// 更新待辦事項清單\nsetNewTodo('');// 清空輸入框\n}};// 更新待辦事項的完成狀態\nconst toggleTodo=async(id,is_completed)=>{const{error}=await supabase.from('todos').update({is_completed:!is_completed}).match({id});if(error){console.error('Error updating todo:',error);}else{setTodos(todos.map(todo=>todo.id===id?{...todo,is_completed:!is_completed}:todo));}};// 刪除待辦事項\nconst deleteTodo=async id=>{const{error}=await supabase.from('todos').delete().match({id});if(error){console.error('Error deleting todo:',error);}else{setTodos(todos.filter(todo=>todo.id!==id));// 刪除待辦事項\n}};useEffect(()=>{fetchTodos();// 初始化載入待辦事項\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u5F85\\u8FA6\\u4E8B\\u9805\\u6E05\\u55AE\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTodo,onChange:e=>setNewTodo(e.target.value),placeholder:\"\\u65B0\\u589E\\u5F85\\u8FA6\\u4E8B\\u9805\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,children:\"\\u65B0\\u589E\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"\\u8F09\\u5165\\u4E2D...\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"todo-list\",children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{style:{textDecoration:todo.is_completed?'line-through':'none'},children:[/*#__PURE__*/_jsx(\"span\",{children:todo.task}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleTodo(todo.id,todo.is_completed),children:todo.is_completed?'恢復':'完成'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTodo(todo.id),children:\"\\u522A\\u9664\"})]},todo.id))})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","newTodo","setNewTodo","loading","setLoading","fetchTodos","data","error","from","select","console","addTodo","insert","task","is_completed","toggleTodo","id","update","match","map","todo","deleteTodo","delete","filter","className","children","type","value","onChange","e","target","placeholder","onClick","style","textDecoration"],"sources":["C:/Users/ASUS/Desktop/todo-app/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';  // 使用命名導入\n\nfunction App() {\n  const [todos, setTodos] = useState([]);  // 待辦事項清單\n  const [newTodo, setNewTodo] = useState('');  // 新待辦事項的內容\n  const [loading, setLoading] = useState(true);  // 是否在加載中\n\n  // 取得所有待辦事項\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from('todos')\n      .select('*');\n    if (error) {\n      console.error('Error fetching todos:', error);\n    } else {\n      setTodos(data);\n    }\n    setLoading(false);\n  };\n\n  // 新增待辦事項\n  const addTodo = async () => {\n    if (!newTodo) return;\n\n    const { data, error } = await supabase\n      .from('todos')\n      .insert([{ task: newTodo, is_completed: false }]);\n\n    if (error) {\n      console.error('Error adding todo:', error);\n    } else {\n      setTodos([...todos, ...data]);  // 更新待辦事項清單\n      setNewTodo('');  // 清空輸入框\n    }\n  };\n\n  // 更新待辦事項的完成狀態\n  const toggleTodo = async (id, is_completed) => {\n    const { error } = await supabase\n      .from('todos')\n      .update({ is_completed: !is_completed })\n      .match({ id });\n\n    if (error) {\n      console.error('Error updating todo:', error);\n    } else {\n      setTodos(todos.map(todo => \n        todo.id === id ? { ...todo, is_completed: !is_completed } : todo\n      ));\n    }\n  };\n\n  // 刪除待辦事項\n  const deleteTodo = async (id) => {\n    const { error } = await supabase\n      .from('todos')\n      .delete()\n      .match({ id });\n\n    if (error) {\n      console.error('Error deleting todo:', error);\n    } else {\n      setTodos(todos.filter(todo => todo.id !== id));  // 刪除待辦事項\n    }\n  };\n\n  useEffect(() => {\n    fetchTodos();  // 初始化載入待辦事項\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>待辦事項清單</h1>\n      <div>\n        <input \n          type=\"text\" \n          value={newTodo} \n          onChange={(e) => setNewTodo(e.target.value)} \n          placeholder=\"新增待辦事項\"\n        />\n        <button onClick={addTodo}>新增</button>\n      </div>\n\n      {loading ? (\n        <p>載入中...</p>\n      ) : (\n        <ul className=\"todo-list\">\n          {todos.map(todo => (\n            <li key={todo.id} style={{ textDecoration: todo.is_completed ? 'line-through' : 'none' }}>\n              <span>{todo.task}</span>\n              <button onClick={() => toggleTodo(todo.id, todo.is_completed)}>\n                {todo.is_completed ? '恢復' : '完成'}\n              </button>\n              <button onClick={() => deleteTodo(todo.id)}>刪除</button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}